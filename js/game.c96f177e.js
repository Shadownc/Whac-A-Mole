"use strict";(self["webpackChunkdds"]=self["webpackChunkdds"]||[]).push([[757],{6621:function(e,l,t){t.r(l),t.d(l,{default:function(){return i}});var a=t(3396),o=t(4870);const n=e=>((0,a.dD)("data-v-57318ff2"),e=e(),(0,a.Cn)(),e),u={class:"wrap"},r=n((()=>(0,a._)("canvas",{id:"canvas",width:"600",height:"600"},null,-1)));var c={__name:"goBang",setup(e){const l=(e,l)=>Math.round(Math.random()*(l-e)+e),t=(0,o.iH)(null),n=(0,o.iH)([]),c=()=>{t.value=0==l(0,1)?"white":"black"},v=()=>{const e=document.getElementById("canvas"),a=e.getContext("2d");for(let l=0;l<15;l++)a.beginPath(),a.moveTo(20,20+40*l),a.lineTo(580,20+40*l),a.stroke(),a.closePath();for(let l=0;l<15;l++)a.beginPath(),a.moveTo(20+40*l,20),a.lineTo(20+40*l,580),a.stroke(),a.closePath();for(let l=0;l<15;l++)n.value[l]=new Array(15).fill(0);e.onclick=function(e){const o=e.offsetX,u=e.offsetY;console.log(o,u);const r=40*Math.round((o-20)/40)+20,c=40*Math.round((u-20)/40)+20,i=(r-20)/40,s=(c-20)/40;n.value[s][i]||(n.value[s][i]="black"==t.value?1:2,a.beginPath(),a.arc(r,c,20,0,2*Math.PI),a.fillStyle="black"==t.value?"black":"white",a.fill(),a.closePath(),setTimeout((()=>{if(f(i,s)){const e=confirm(("black"==t.value?"黑棋":"白棋")+"赢了！是否重新开局？");a.clearRect(0,0,600,600),t.value=0==l(0,1)?"white":"black",e&&v()}t.value="black"==t.value?"white":"black"}),0))}},f=(e,l)=>{const a="black"==t.value?1:2;return!!i(e,l,a)||(!!s(e,l,a)||(!!k(e,l,a)||!!b(e,l,a)))},i=(e,l,t)=>{let a=1;for(let o=1;o<5;o++){let u=l-o;if(console.log(e,u),u<0||n.value[u][e]!==t)break;n.value[u][e]===t&&(a+=1)}for(let o=1;o<5;o++){let u=l+o;if(console.log(e,u),u>14||n.value[u][e]!==t)break;n.value[u][e]===t&&(a+=1)}return a>=5},s=(e,l,t)=>{let a=1;for(let o=1;o<5;o++){let u=e-o;if(u<0||n.value[l][u]!==t)break;n.value[l][u]===t&&(a+=1)}for(let o=1;o<5;o++){let u=e+o;if(u>14||n.value[l][u]!==t)break;n.value[l][u]===t&&(a+=1)}return a>=5},k=(e,l,t)=>{let a=1;for(let o=1;o<5;o++){let u=e-o,r=l-o;if(u<0||r<0||n.value[r][u]!==t)break;n.value[r][u]===t&&(a+=1)}for(let o=1;o<5;o++){let u=e+o,r=l+o;if(u>14||r>14||n.value[r][u]!==t)break;n.value[r][u]===t&&(a+=1)}return a>=5},b=(e,l,t)=>{let a=1;for(let o=1;o<5;o++){let u=e-o,r=l+o;if(u<0||r>14||n.value[r][u]!==t)break;n.value[r][u]===t&&(a+=1)}for(let o=1;o<5;o++){let u=e+o,r=l-o;if(u>14||r<0||n.value[r][u]!==t)break;n.value[r][u]===t&&(a+=1)}return a>=5};return(0,a.bv)((()=>{v()})),(e,l)=>((0,a.wg)(),(0,a.iD)("div",u,[r,(0,a._)("button",{onClick:c},"随机先手")]))}},v=t(89);const f=(0,v.Z)(c,[["__scopeId","data-v-57318ff2"]]);var i=f}}]);
//# sourceMappingURL=game.c96f177e.js.map